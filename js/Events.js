function initialiseGlobalEvents(){$('.pop-display-buttons').on("click","a",function(){var anchors=$(this).parent().find("a");for(var i=0;i<anchors.length;i++){if($(this).attr('id')!==$(anchors[i]).attr('id')){$(anchors[i]).popover('hide')}}});$('.navbar-collapse').on("click","a",function(){if(!$(this).hasClass("dropdown-toggle")){$('.navbar-collapse').collapse('hide')}});$(window).on('resize',function(){$("#subView .grid").css("width",($("#subView").width()-$("#subView .grid-side-bar").width()));$("#view .grid").css("width",($(".solo-channels").width()-$("#view .grid-side-bar").width()))});$('#record-menu').on("shown.bs.popover",function(){var snapshot=$(this).attr("data-snapshot");var cue=$(this).attr("data-cue");$('#snapshot-record-button').html("Snapshot "+snapshot);$('#cue-record-button').html("Cue "+cue)});$('body').on("click",'#snapshot-record-button',function(){jQuery.get("/cs/key/recordsnapshot",function(){$('#record-menu').popover("hide")})});$('body').on("click","#cue-record-button",function(){jQuery.get("/cs/key/recordnextcue",'#cue-record-button',function(){$('#record-menu').popover("hide")})});$('body').on("click","#cueGo",function(){jQuery.get("cs/playback/go",function(){})});$('body').on("click","#cueBack",function(){jQuery.get("cs/playback/goback",function(){})});$('body').on("click","#cuePause",function(){jQuery.get("cs/playback/pause",function(){})});$('#view').on('click','#clear-all',function(){jQuery.get("cs/key/clearall",function(){})});$('#view').on('click','#clear-playbacks',function(){jQuery.get("cs/key/clearplaybacks",function(){})});$('#view').on('click','#clear-cues',function(){jQuery.get("cs/key/clearcues",function(){})});$('#view').on('click','#clear-channels',function(){jQuery.get("cs/key/clearchannels",function(){})});$('#view').on('click','#clear-selection',function(){jQuery.get("cs/key/clearselection",function(){})});$('.pop-display-buttons').on('click','#blackout',function(){jQuery.get("cs/key/blackout",function(){})});$('.pop-display-buttons').on('click','#aMute',function(){jQuery.get("cs/key/audiomute",function(){})});$('.pop-display-buttons').on('click','#vOff',function(){jQuery.get("cs/key/videooff",function(){})});$('.pop-display-buttons').on('click','#mPause',function(){jQuery.get("cs/key/mediapause",function(){})});$('.pop-display-buttons').on('click','#ind1',function(){jQuery.get("cs/key/ind1",function(){})});$('.pop-display-buttons').on('click','#ind2',function(){jQuery.get("cs/key/ind2",function(){})});$('#subView').on("click","#channels .grid-cell",function(){if($(this).hasClass("isSelected")){jQuery.get("cs/chan/subtract/"+$(this).attr("data-channel"),function(){})}else{jQuery.get("cs/chan/add/"+$(this).attr("data-channel"),function(){})}});$('#subView').on("dblclick","#channels .grid-cell",function(){jQuery.get("cs/chan/select/"+$(this).attr("data-channel"),function(){})});$('#subView').on("click","#grid-zoom",function(){if(Views.channelView.zoomed){Views.channelView.zoomed=!1}else{Views.channelView.zoomed=!0}
Views.channelView.stop();Views.channelView.show()});$('#subView').on("click","#grid-select-all",function(){jQuery.get("cs/chan/select/1",function(){jQuery.get("cs/chan/thru/80",function(){})})});$('#subView').on("click","#grid-deselect-all",function(){jQuery.get("cs/chan/select/1",function(){jQuery.get("cs/chan/subtract/1",function(){})})});$('#view').on("click","#channels .grid-cell",function(){if($(this).hasClass("isSelected")){jQuery.get("cs/chan/subtract/"+$(this).attr("data-channel"),function(){})}else{jQuery.get("cs/chan/add/"+$(this).attr("data-channel"),function(){})}});$('#view').on("dblclick","#channels .grid-cell",function(){jQuery.get("cs/chan/select/"+$(this).attr("data-channel"),function(){})});$('#view').on("click","#grid-zoom",function(){if(Views.soloChannelView.zoomed){Views.soloChannelView.zoomed=!1}else{Views.soloChannelView.zoomed=!0}
Views.soloChannelView.stop();Views.soloChannelView.show()});$('#view').on("click","#grid-select-all",function(){jQuery.get("cs/chan/select/1",function(){jQuery.get("cs/chan/thru/80",function(){})})});$('#view').on("click","#grid-deselect-all",function(){jQuery.get("cs/chan/select/1",function(){jQuery.get("cs/chan/subtract/1",function(){})})});$('#view').on("click",".capsule .capsule-top",function(){var playbackNb=$(this).parent().attr("data-playback");if($(this).parent().hasClass("capsule-sequence")||$(this).parent().hasClass("capsule-memory")){jQuery.get("cs/playback/"+playbackNb+"/activate",function(){})}});$('#view').on("click",".capsule .capsule-mid.has-content",function(){var playbackNb=$(this).parent().attr("data-playback");if($(this).parent().hasClass("capsule-sequence")||$(this).parent().hasClass("capsule-memory")){jQuery.get("cs/playback/"+playbackNb+"/execute",function(){})}});$('#view').on("click",".capsule-low button",function(){var parent=$(this).parent().parent();if(parent.hasClass("capsule-sequence")){if(parent.hasClass("capsule-sequence")){$("#sequenceView .modal-header h4").html("Sequence")}else{$("#sequenceView .modal-header h4").html("Memory")}
var playbackNb=$(this).attr("data-playback");Views.sequenceView.setSequence(playbackNb);Views.sequenceView.show();$('#sequenceModal').modal('show')}});$('#view-footer').on("click","#playback-page-plus",function(){jQuery.get("cs/playbacks/changePage/1",function(){})});$('#view-footer').on("click","#playback-page-minus",function(){jQuery.get("cs/playbacks/changePage/-1",function(){})});$("#view").on('click','.fader-bump button',function(){if($(this).hasClass("memory")||$(this).hasClass("sequence")){var fader=$(this).parent().parent().parent();jQuery.get("/cs/playback/"+$(fader).attr("data-number")+"/fire/press",function(){})}});$("#view").on('mousedown touchstart','.fader-slider',Views.mastersView.startSlide);$("body").on('mousemove touchmove',Views.mastersView.slide);$("body").on("mouseup touchend",Views.mastersView.stopSlide);$("#view").on('mousedown touchstart',".fader-bump button",function(){var number=parseInt($(this).attr("data-number"))+1;jQuery.get("cs/playback/"+number+"/fire/1",function(){})});$("#view").on('mouseup touchend',".fader-bump button",function(){var number=parseInt($(this).attr("data-number"))+1;jQuery.get("cs/playback/"+number+"/fire/0",function(){})});$('#view').on("click","#nudge-button",function(){$('#nudge-button').hide();$('#pan-tilt-picker-button').show();$('#pan-tilt-picker').hide();$('#pan-tilt-nudge').show()});$('#view').on("click","#pan-tilt-picker-button",function(){$('#pan-tilt-picker-button').hide();$('#nudge-button').show();$('#pan-tilt-nudge').hide();$('#pan-tilt-picker').show()});$('#view').on('click','#panPlus',function(){jQuery.get("/cs/param/pan/wheel/+1",function(){})});$('#view').on('click','#panMinus',function(){jQuery.get("/cs/param/pan/wheel/-1",function(){})});$('#view').on('click','#tiltPlus',function(){jQuery.get("/cs/param/tilt/wheel/+1",function(){})});$('#view').on('click','#tiltMinus',function(){jQuery.get("/cs/param/tilt/wheel/-1",function(){})});$('#view').on('dragstart',"#pan-tilt-picker img",function(event){event.preventDefault()});$("#view").on("mousedown touchstart","#pan-tilt-picker img",Views.panTiltView.startSelection);$("#view").on("mousemove touchmove","#pan-tilt-picker img",Views.panTiltView.moveSelection);$("#view").on("mouseup touchend","#pan-tilt-picker img",Views.panTiltView.endSelection);$('#view').on("click","#setToFull",function(){jQuery.get("cs/chan/at/100",function(){})});$('#view').on("click","#addTen",function(){jQuery.get("cs/chan/wheel/"+26,function(){})});$('#view').on("click","#addOne",function(){jQuery.get("cs/chan/wheel/"+3,function(){})});$('#view').on("click","#subOne",function(){jQuery.get("cs/chan/wheel/"+ -3,function(){})});$('#view').on("click","#subTen",function(){jQuery.get("cs/chan/wheel/"+ -255,function(){})});$('#view').on("click","#setToZero",function(){jQuery.get("cs/chan/at/0",function(){})});$("#view").on("click","#color-picker img",function(event){var element=event.currentTarget
var parentX=parentY=0;while(element){parentX+=(element.offsetLeft-element.scrollLeft+element.clientLeft);parentY+=(element.offsetTop-element.scrollTop+element.clientTop);element=element.offsetParent}
var innerX=event.clientX-parentX;var innerY=event.clientY-parentY;var width=$(this).width();var height=$(this).height();var hue=Math.round(innerX*359/width);var sat=Math.round((height-innerY)*100/height);jQuery.get("cs/color/hs/"+hue+"/"+sat,function(){})});$('#view').on("click",".chip",function(){jQuery.get("cs/color/select/"+$(this).attr('data-chip'),function(){})});$('#view').on("click","#chips-button",function(){$('#chips-button').hide();$('#picker-button').show();$('#color-picker').hide();$('#color-chips').show()});$('#view').on("click","#picker-button",function(){$('#picker-button').hide();$('#chips-button').show();$('#color-chips').hide();$('#color-picker').show()});$('#view').on("click","#level-toggle",function(){var state=$(this).attr("data-state");if(state.valueOf()==="btn"){$(this).attr("data-state","bar");$('.level-buttons').hide();$('#bar').show()}else if(state.valueOf()==="bar"){$(this).attr("data-state","btn");$('#bar').hide();$('.level-buttons').show()}});$('#view').on("click","#tag-button",function(){$('#tag-button').hide();$('#location-button').show();$('#location-items').hide();$('#tag-items').show()});$('#view').on("click","#location-button",function(){$('#location-button').hide();$('#tag-button').show();$('#tag-items').hide();$('#location-items').show()});$('#view').on("click",".location-groups-cell .has-content",function(){var parent=$(this).parent();jQuery.get("cs/locationGroup/select/"+$(parent).attr("data-group-number"),function(){})});$('#view').on("click",".tag-groups-cell .has-content",function(){var parent=$(this).parent();jQuery.get("cs/tagGroup/select/"+$(parent).attr("data-group-number"),function(){})})}
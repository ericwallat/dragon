function hasContent(a){return a>0}function makeContentArray(a){for(var b=new Array(8),c=7,d=128;a>0;d/=2)a>=d?(a-=d,b[c]=!0):b[c]=!1,c--;return b}function getContent(a){for(var b=makeContentArray(a),c="",d=0;d<b.length;d++)c+=b[d]?'<img src="img/cont'+(d+1)+'.png" width="24px" height="24px" />':'<img src="img/empty.png" width="24px" height="24px" />';return c}var VERSION_NUMBER_TEXT="WebUI: 3";jQuery(document).ready(function(){$.ajaxSetup({cache:!1}),$.ajax({cache:!1}),$("#version-number").html(VERSION_NUMBER_TEXT),$(".blackout-warning").hide(),initialiseAllViews(),Views.mastersView.initFaders(),initialiseGlobalEvents(),$("#cue-menu").attr("data-content","<div class='cue-buttons stacked-buttons'><button id='cueGo' class='btn btn-primary' type='submit'><img src='img/cue-go.png' /></button><button id='cuePause' class='btn btn-primary' type='submit'><img src='img/cue-pause.png' /></button><button id='cueBack' class='btn btn-primary' type='submit'><img src='img/cue-back.png' /></button></div>"),$("#controlPanel-menu").attr("data-content","<button id='blackout' class='btn btn-primary' type='submit'>Blackout</button><button id='aMute' class='btn btn-primary' type='submit'>Audio Mute</button><button id='vOff' class='btn btn-primary' type='submit'>Video Off</button><button id='mPause' class='btn btn-primary' type='submit'>Media Pause</button><button id='ind1' class='btn btn-primary' type='submit'>Ind 1</button><button id='ind2' class='btn btn-primary' type='submit'>Ind 2</button>"),$("#record-menu").attr("data-content","<button id='snapshot-record-button' class='btn btn-primary' type='submit'>Snapshot </button><button id='cue-record-button' class='btn btn-primary' type='submit'>Cue </button>"),$('[data-toggle="popover"]').popover(),$('[data-toggle="tooltip"]').tooltip(),$("#view").bind("mousewheel",function(a){a.preventDefault();var b=this.scrollTop;this.scrollTop=b+a.deltaY*a.deltaFactor*-1}),globalRefresh.url=viewConstants.commandURLs.globalDATA,globalRefresh.poll(),PageManager.loadPageFromUrl(),$(window).on("hashchange",function(){PageManager.loadPageFromUrl()})});var showName="",globalRefresh={timeout:null,url:null,refreshTime:166,init:function(a){this.url=a},insertHTML:function(a){var b=parseInt(a.activeCue);$("#view tr[data-cue='"+b+"']").hasClass("active-cue")||($("#view .active-cue").removeClass("active-cue"),$("#view tr[data-cue='"+b+"']").addClass("active-cue")),$("#record-menu").attr("data-snapshot",a.nextSnapshotIndex+1),$("#record-menu").attr("data-cue",a.nextCue/10),a.fileName.valueOf()!=showName&&(showName=a.fileName.valueOf(),ViewManager.refreshActiveViews(),document.title="ColorSource - "+showName),a.audioMuted?$("#aMute").addClass("active-toggle"):$("#aMute").removeClass("active-toggle"),a.mediaPaused?$("#mPause").addClass("active-toggle"):$("#mPause").removeClass("active-toggle"),a.blackout?($("#blackout").addClass("active-toggle"),$(".blackout-warning").show()):($("#blackout").removeClass("active-toggle"),$(".blackout-warning").hide()),a.videoOff?$("#vOff").addClass("active-toggle"):$("#vOff").removeClass("active-toggle"),a.ind1?$("#ind1").addClass("active-toggle"):$("#ind1").removeClass("active-toggle"),a.ind2?$("#ind2").addClass("active-toggle"):$("#ind2").removeClass("active-toggle")},poll:function(){this.timeout=setTimeout(function(){jQuery.getJSON(globalRefresh.url,function(a){globalRefresh.insertHTML(a),globalRefresh.poll()})},this.refreshTime)},stop:function(){window.clearTimeout(this.timeout)}};